/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/js/pages/form-imagecrop.init.js":
/*!***************************************************!*\
  !*** ./resources/js/pages/form-imagecrop.init.js ***!
  \***************************************************/
/***/ (() => {

eval("/*\r\nTemplate Name: Ubold - Responsive Bootstrap 4 Admin Dashboard\r\nAuthor: CoderThemes\r\nWebsite: https://coderthemes.com/\r\nContact: support@coderthemes.com\r\nFile: Image crop init js\r\n*/\n$(function () {\n  'use strict';\n\n  var console = window.console || {\n    log: function log() {}\n  };\n  var URL = window.URL || window.webkitURL;\n  var $image = $('#image');\n  var $download = $('#download');\n  var $dataX = $('#dataX');\n  var $dataY = $('#dataY');\n  var $dataHeight = $('#dataHeight');\n  var $dataWidth = $('#dataWidth');\n  var $dataRotate = $('#dataRotate');\n  var $dataScaleX = $('#dataScaleX');\n  var $dataScaleY = $('#dataScaleY');\n  var options = {\n    aspectRatio: 16 / 9,\n    preview: '.img-preview',\n    crop: function crop(e) {\n      $dataX.val(Math.round(e.detail.x));\n      $dataY.val(Math.round(e.detail.y));\n      $dataHeight.val(Math.round(e.detail.height));\n      $dataWidth.val(Math.round(e.detail.width));\n      $dataRotate.val(e.detail.rotate);\n      $dataScaleX.val(e.detail.scaleX);\n      $dataScaleY.val(e.detail.scaleY);\n    }\n  };\n  var originalImageURL = $image.attr('src');\n  var uploadedImageName = 'cropped.jpg';\n  var uploadedImageType = 'image/jpeg';\n  var uploadedImageURL; // Tooltip\n\n  $('[data-toggle=\"tooltip\"]').tooltip(); // Cropper\n\n  $image.on({\n    ready: function ready(e) {\n      console.log(e.type);\n    },\n    cropstart: function cropstart(e) {\n      console.log(e.type, e.detail.action);\n    },\n    cropmove: function cropmove(e) {\n      console.log(e.type, e.detail.action);\n    },\n    cropend: function cropend(e) {\n      console.log(e.type, e.detail.action);\n    },\n    crop: function crop(e) {\n      console.log(e.type);\n    },\n    zoom: function zoom(e) {\n      console.log(e.type, e.detail.ratio);\n    }\n  }).cropper(options); // Buttons\n\n  if (!$.isFunction(document.createElement('canvas').getContext)) {\n    $('button[data-method=\"getCroppedCanvas\"]').prop('disabled', true);\n  }\n\n  if (typeof document.createElement('cropper').style.transition === 'undefined') {\n    $('button[data-method=\"rotate\"]').prop('disabled', true);\n    $('button[data-method=\"scale\"]').prop('disabled', true);\n  } // Download\n\n\n  if (typeof $download[0].download === 'undefined') {\n    $download.addClass('disabled');\n  } // Options\n\n\n  $('.docs-toggles').on('change', 'input', function () {\n    var $this = $(this);\n    var name = $this.attr('name');\n    var type = $this.prop('type');\n    var cropBoxData;\n    var canvasData;\n\n    if (!$image.data('cropper')) {\n      return;\n    }\n\n    if (type === 'checkbox') {\n      options[name] = $this.prop('checked');\n      cropBoxData = $image.cropper('getCropBoxData');\n      canvasData = $image.cropper('getCanvasData');\n\n      options.ready = function () {\n        $image.cropper('setCropBoxData', cropBoxData);\n        $image.cropper('setCanvasData', canvasData);\n      };\n    } else if (type === 'radio') {\n      options[name] = $this.val();\n    }\n\n    $image.cropper('destroy').cropper(options);\n  }); // Methods\n\n  $('.docs-buttons').on('click', '[data-method]', function () {\n    var $this = $(this);\n    var data = $this.data();\n    var cropper = $image.data('cropper');\n    var cropped;\n    var $target;\n    var result;\n\n    if ($this.prop('disabled') || $this.hasClass('disabled')) {\n      return;\n    }\n\n    if (cropper && data.method) {\n      data = $.extend({}, data); // Clone a new one\n\n      if (typeof data.target !== 'undefined') {\n        $target = $(data.target);\n\n        if (typeof data.option === 'undefined') {\n          try {\n            data.option = JSON.parse($target.val());\n          } catch (e) {\n            console.log(e.message);\n          }\n        }\n      }\n\n      cropped = cropper.cropped;\n\n      switch (data.method) {\n        case 'rotate':\n          if (cropped && options.viewMode > 0) {\n            $image.cropper('clear');\n          }\n\n          break;\n\n        case 'getCroppedCanvas':\n          if (uploadedImageType === 'image/jpeg') {\n            if (!data.option) {\n              data.option = {};\n            }\n\n            data.option.fillColor = '#fff';\n          }\n\n          break;\n      }\n\n      result = $image.cropper(data.method, data.option, data.secondOption);\n\n      switch (data.method) {\n        case 'rotate':\n          if (cropped && options.viewMode > 0) {\n            $image.cropper('crop');\n          }\n\n          break;\n\n        case 'scaleX':\n        case 'scaleY':\n          $(this).data('option', -data.option);\n          break;\n\n        case 'getCroppedCanvas':\n          if (result) {\n            // Bootstrap's Modal\n            $('#getCroppedCanvasModal').modal().find('.modal-body').html(result);\n\n            if (!$download.hasClass('disabled')) {\n              download.download = uploadedImageName;\n              $download.attr('href', result.toDataURL(uploadedImageType));\n            }\n          }\n\n          break;\n\n        case 'destroy':\n          if (uploadedImageURL) {\n            URL.revokeObjectURL(uploadedImageURL);\n            uploadedImageURL = '';\n            $image.attr('src', originalImageURL);\n          }\n\n          break;\n      }\n\n      if ($.isPlainObject(result) && $target) {\n        try {\n          $target.val(JSON.stringify(result));\n        } catch (e) {\n          console.log(e.message);\n        }\n      }\n    }\n  }); // Keyboard\n\n  $(document.body).on('keydown', function (e) {\n    if (e.target !== this || !$image.data('cropper') || this.scrollTop > 300) {\n      return;\n    }\n\n    switch (e.which) {\n      case 37:\n        e.preventDefault();\n        $image.cropper('move', -1, 0);\n        break;\n\n      case 38:\n        e.preventDefault();\n        $image.cropper('move', 0, -1);\n        break;\n\n      case 39:\n        e.preventDefault();\n        $image.cropper('move', 1, 0);\n        break;\n\n      case 40:\n        e.preventDefault();\n        $image.cropper('move', 0, 1);\n        break;\n    }\n  }); // Import image\n\n  var $inputImage = $('#inputImage');\n\n  if (URL) {\n    $inputImage.change(function () {\n      var files = this.files;\n      var file;\n\n      if (!$image.data('cropper')) {\n        return;\n      }\n\n      if (files && files.length) {\n        file = files[0];\n\n        if (/^image\\/\\w+$/.test(file.type)) {\n          uploadedImageName = file.name;\n          uploadedImageType = file.type;\n\n          if (uploadedImageURL) {\n            URL.revokeObjectURL(uploadedImageURL);\n          }\n\n          uploadedImageURL = URL.createObjectURL(file);\n          $image.cropper('destroy').attr('src', uploadedImageURL).cropper(options);\n          $inputImage.val('');\n        } else {\n          window.alert('Please choose an image file.');\n        }\n      }\n    });\n  } else {\n    $inputImage.prop('disabled', true).parent().addClass('disabled');\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvcGFnZXMvZm9ybS1pbWFnZWNyb3AuaW5pdC5qcz8xMDdjIl0sIm5hbWVzIjpbIiQiLCJjb25zb2xlIiwid2luZG93IiwibG9nIiwiVVJMIiwid2Via2l0VVJMIiwiJGltYWdlIiwiJGRvd25sb2FkIiwiJGRhdGFYIiwiJGRhdGFZIiwiJGRhdGFIZWlnaHQiLCIkZGF0YVdpZHRoIiwiJGRhdGFSb3RhdGUiLCIkZGF0YVNjYWxlWCIsIiRkYXRhU2NhbGVZIiwib3B0aW9ucyIsImFzcGVjdFJhdGlvIiwicHJldmlldyIsImNyb3AiLCJlIiwidmFsIiwiTWF0aCIsInJvdW5kIiwiZGV0YWlsIiwieCIsInkiLCJoZWlnaHQiLCJ3aWR0aCIsInJvdGF0ZSIsInNjYWxlWCIsInNjYWxlWSIsIm9yaWdpbmFsSW1hZ2VVUkwiLCJhdHRyIiwidXBsb2FkZWRJbWFnZU5hbWUiLCJ1cGxvYWRlZEltYWdlVHlwZSIsInVwbG9hZGVkSW1hZ2VVUkwiLCJ0b29sdGlwIiwib24iLCJyZWFkeSIsInR5cGUiLCJjcm9wc3RhcnQiLCJhY3Rpb24iLCJjcm9wbW92ZSIsImNyb3BlbmQiLCJ6b29tIiwicmF0aW8iLCJjcm9wcGVyIiwiaXNGdW5jdGlvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJwcm9wIiwic3R5bGUiLCJ0cmFuc2l0aW9uIiwiZG93bmxvYWQiLCJhZGRDbGFzcyIsIiR0aGlzIiwibmFtZSIsImNyb3BCb3hEYXRhIiwiY2FudmFzRGF0YSIsImRhdGEiLCJjcm9wcGVkIiwiJHRhcmdldCIsInJlc3VsdCIsImhhc0NsYXNzIiwibWV0aG9kIiwiZXh0ZW5kIiwidGFyZ2V0Iiwib3B0aW9uIiwiSlNPTiIsInBhcnNlIiwibWVzc2FnZSIsInZpZXdNb2RlIiwiZmlsbENvbG9yIiwic2Vjb25kT3B0aW9uIiwibW9kYWwiLCJmaW5kIiwiaHRtbCIsInRvRGF0YVVSTCIsInJldm9rZU9iamVjdFVSTCIsImlzUGxhaW5PYmplY3QiLCJzdHJpbmdpZnkiLCJib2R5Iiwic2Nyb2xsVG9wIiwid2hpY2giLCJwcmV2ZW50RGVmYXVsdCIsIiRpbnB1dEltYWdlIiwiY2hhbmdlIiwiZmlsZXMiLCJmaWxlIiwibGVuZ3RoIiwidGVzdCIsImNyZWF0ZU9iamVjdFVSTCIsImFsZXJ0IiwicGFyZW50Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBQSxDQUFDLENBQUMsWUFBWTtBQUNWOztBQUVBLE1BQUlDLE9BQU8sR0FBR0MsTUFBTSxDQUFDRCxPQUFQLElBQWtCO0FBQUVFLElBQUFBLEdBQUcsRUFBRSxlQUFZLENBQUc7QUFBdEIsR0FBaEM7QUFDQSxNQUFJQyxHQUFHLEdBQUdGLE1BQU0sQ0FBQ0UsR0FBUCxJQUFjRixNQUFNLENBQUNHLFNBQS9CO0FBQ0EsTUFBSUMsTUFBTSxHQUFHTixDQUFDLENBQUMsUUFBRCxDQUFkO0FBQ0EsTUFBSU8sU0FBUyxHQUFHUCxDQUFDLENBQUMsV0FBRCxDQUFqQjtBQUNBLE1BQUlRLE1BQU0sR0FBR1IsQ0FBQyxDQUFDLFFBQUQsQ0FBZDtBQUNBLE1BQUlTLE1BQU0sR0FBR1QsQ0FBQyxDQUFDLFFBQUQsQ0FBZDtBQUNBLE1BQUlVLFdBQVcsR0FBR1YsQ0FBQyxDQUFDLGFBQUQsQ0FBbkI7QUFDQSxNQUFJVyxVQUFVLEdBQUdYLENBQUMsQ0FBQyxZQUFELENBQWxCO0FBQ0EsTUFBSVksV0FBVyxHQUFHWixDQUFDLENBQUMsYUFBRCxDQUFuQjtBQUNBLE1BQUlhLFdBQVcsR0FBR2IsQ0FBQyxDQUFDLGFBQUQsQ0FBbkI7QUFDQSxNQUFJYyxXQUFXLEdBQUdkLENBQUMsQ0FBQyxhQUFELENBQW5CO0FBQ0EsTUFBSWUsT0FBTyxHQUFHO0FBQ1ZDLElBQUFBLFdBQVcsRUFBRSxLQUFLLENBRFI7QUFFVkMsSUFBQUEsT0FBTyxFQUFFLGNBRkM7QUFHVkMsSUFBQUEsSUFBSSxFQUFFLGNBQVVDLENBQVYsRUFBYTtBQUNmWCxNQUFBQSxNQUFNLENBQUNZLEdBQVAsQ0FBV0MsSUFBSSxDQUFDQyxLQUFMLENBQVdILENBQUMsQ0FBQ0ksTUFBRixDQUFTQyxDQUFwQixDQUFYO0FBQ0FmLE1BQUFBLE1BQU0sQ0FBQ1csR0FBUCxDQUFXQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0gsQ0FBQyxDQUFDSSxNQUFGLENBQVNFLENBQXBCLENBQVg7QUFDQWYsTUFBQUEsV0FBVyxDQUFDVSxHQUFaLENBQWdCQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0gsQ0FBQyxDQUFDSSxNQUFGLENBQVNHLE1BQXBCLENBQWhCO0FBQ0FmLE1BQUFBLFVBQVUsQ0FBQ1MsR0FBWCxDQUFlQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0gsQ0FBQyxDQUFDSSxNQUFGLENBQVNJLEtBQXBCLENBQWY7QUFDQWYsTUFBQUEsV0FBVyxDQUFDUSxHQUFaLENBQWdCRCxDQUFDLENBQUNJLE1BQUYsQ0FBU0ssTUFBekI7QUFDQWYsTUFBQUEsV0FBVyxDQUFDTyxHQUFaLENBQWdCRCxDQUFDLENBQUNJLE1BQUYsQ0FBU00sTUFBekI7QUFDQWYsTUFBQUEsV0FBVyxDQUFDTSxHQUFaLENBQWdCRCxDQUFDLENBQUNJLE1BQUYsQ0FBU08sTUFBekI7QUFDSDtBQVhTLEdBQWQ7QUFhQSxNQUFJQyxnQkFBZ0IsR0FBR3pCLE1BQU0sQ0FBQzBCLElBQVAsQ0FBWSxLQUFaLENBQXZCO0FBQ0EsTUFBSUMsaUJBQWlCLEdBQUcsYUFBeEI7QUFDQSxNQUFJQyxpQkFBaUIsR0FBRyxZQUF4QjtBQUNBLE1BQUlDLGdCQUFKLENBOUJVLENBZ0NWOztBQUNBbkMsRUFBQUEsQ0FBQyxDQUFDLHlCQUFELENBQUQsQ0FBNkJvQyxPQUE3QixHQWpDVSxDQW1DVjs7QUFDQTlCLEVBQUFBLE1BQU0sQ0FBQytCLEVBQVAsQ0FBVTtBQUNOQyxJQUFBQSxLQUFLLEVBQUUsZUFBVW5CLENBQVYsRUFBYTtBQUNoQmxCLE1BQUFBLE9BQU8sQ0FBQ0UsR0FBUixDQUFZZ0IsQ0FBQyxDQUFDb0IsSUFBZDtBQUNILEtBSEs7QUFJTkMsSUFBQUEsU0FBUyxFQUFFLG1CQUFVckIsQ0FBVixFQUFhO0FBQ3BCbEIsTUFBQUEsT0FBTyxDQUFDRSxHQUFSLENBQVlnQixDQUFDLENBQUNvQixJQUFkLEVBQW9CcEIsQ0FBQyxDQUFDSSxNQUFGLENBQVNrQixNQUE3QjtBQUNILEtBTks7QUFPTkMsSUFBQUEsUUFBUSxFQUFFLGtCQUFVdkIsQ0FBVixFQUFhO0FBQ25CbEIsTUFBQUEsT0FBTyxDQUFDRSxHQUFSLENBQVlnQixDQUFDLENBQUNvQixJQUFkLEVBQW9CcEIsQ0FBQyxDQUFDSSxNQUFGLENBQVNrQixNQUE3QjtBQUNILEtBVEs7QUFVTkUsSUFBQUEsT0FBTyxFQUFFLGlCQUFVeEIsQ0FBVixFQUFhO0FBQ2xCbEIsTUFBQUEsT0FBTyxDQUFDRSxHQUFSLENBQVlnQixDQUFDLENBQUNvQixJQUFkLEVBQW9CcEIsQ0FBQyxDQUFDSSxNQUFGLENBQVNrQixNQUE3QjtBQUNILEtBWks7QUFhTnZCLElBQUFBLElBQUksRUFBRSxjQUFVQyxDQUFWLEVBQWE7QUFDZmxCLE1BQUFBLE9BQU8sQ0FBQ0UsR0FBUixDQUFZZ0IsQ0FBQyxDQUFDb0IsSUFBZDtBQUNILEtBZks7QUFnQk5LLElBQUFBLElBQUksRUFBRSxjQUFVekIsQ0FBVixFQUFhO0FBQ2ZsQixNQUFBQSxPQUFPLENBQUNFLEdBQVIsQ0FBWWdCLENBQUMsQ0FBQ29CLElBQWQsRUFBb0JwQixDQUFDLENBQUNJLE1BQUYsQ0FBU3NCLEtBQTdCO0FBQ0g7QUFsQkssR0FBVixFQW1CR0MsT0FuQkgsQ0FtQlcvQixPQW5CWCxFQXBDVSxDQXlEVjs7QUFDQSxNQUFJLENBQUNmLENBQUMsQ0FBQytDLFVBQUYsQ0FBYUMsUUFBUSxDQUFDQyxhQUFULENBQXVCLFFBQXZCLEVBQWlDQyxVQUE5QyxDQUFMLEVBQWdFO0FBQzVEbEQsSUFBQUEsQ0FBQyxDQUFDLHdDQUFELENBQUQsQ0FBNENtRCxJQUE1QyxDQUFpRCxVQUFqRCxFQUE2RCxJQUE3RDtBQUNIOztBQUVELE1BQUksT0FBT0gsUUFBUSxDQUFDQyxhQUFULENBQXVCLFNBQXZCLEVBQWtDRyxLQUFsQyxDQUF3Q0MsVUFBL0MsS0FBOEQsV0FBbEUsRUFBK0U7QUFDM0VyRCxJQUFBQSxDQUFDLENBQUMsOEJBQUQsQ0FBRCxDQUFrQ21ELElBQWxDLENBQXVDLFVBQXZDLEVBQW1ELElBQW5EO0FBQ0FuRCxJQUFBQSxDQUFDLENBQUMsNkJBQUQsQ0FBRCxDQUFpQ21ELElBQWpDLENBQXNDLFVBQXRDLEVBQWtELElBQWxEO0FBQ0gsR0FqRVMsQ0FtRVY7OztBQUNBLE1BQUksT0FBTzVDLFNBQVMsQ0FBQyxDQUFELENBQVQsQ0FBYStDLFFBQXBCLEtBQWlDLFdBQXJDLEVBQWtEO0FBQzlDL0MsSUFBQUEsU0FBUyxDQUFDZ0QsUUFBVixDQUFtQixVQUFuQjtBQUNILEdBdEVTLENBd0VWOzs7QUFDQXZELEVBQUFBLENBQUMsQ0FBQyxlQUFELENBQUQsQ0FBbUJxQyxFQUFuQixDQUFzQixRQUF0QixFQUFnQyxPQUFoQyxFQUF5QyxZQUFZO0FBQ2pELFFBQUltQixLQUFLLEdBQUd4RCxDQUFDLENBQUMsSUFBRCxDQUFiO0FBQ0EsUUFBSXlELElBQUksR0FBR0QsS0FBSyxDQUFDeEIsSUFBTixDQUFXLE1BQVgsQ0FBWDtBQUNBLFFBQUlPLElBQUksR0FBR2lCLEtBQUssQ0FBQ0wsSUFBTixDQUFXLE1BQVgsQ0FBWDtBQUNBLFFBQUlPLFdBQUo7QUFDQSxRQUFJQyxVQUFKOztBQUVBLFFBQUksQ0FBQ3JELE1BQU0sQ0FBQ3NELElBQVAsQ0FBWSxTQUFaLENBQUwsRUFBNkI7QUFDekI7QUFDSDs7QUFFRCxRQUFJckIsSUFBSSxLQUFLLFVBQWIsRUFBeUI7QUFDckJ4QixNQUFBQSxPQUFPLENBQUMwQyxJQUFELENBQVAsR0FBZ0JELEtBQUssQ0FBQ0wsSUFBTixDQUFXLFNBQVgsQ0FBaEI7QUFDQU8sTUFBQUEsV0FBVyxHQUFHcEQsTUFBTSxDQUFDd0MsT0FBUCxDQUFlLGdCQUFmLENBQWQ7QUFDQWEsTUFBQUEsVUFBVSxHQUFHckQsTUFBTSxDQUFDd0MsT0FBUCxDQUFlLGVBQWYsQ0FBYjs7QUFFQS9CLE1BQUFBLE9BQU8sQ0FBQ3VCLEtBQVIsR0FBZ0IsWUFBWTtBQUN4QmhDLFFBQUFBLE1BQU0sQ0FBQ3dDLE9BQVAsQ0FBZSxnQkFBZixFQUFpQ1ksV0FBakM7QUFDQXBELFFBQUFBLE1BQU0sQ0FBQ3dDLE9BQVAsQ0FBZSxlQUFmLEVBQWdDYSxVQUFoQztBQUNILE9BSEQ7QUFJSCxLQVRELE1BU08sSUFBSXBCLElBQUksS0FBSyxPQUFiLEVBQXNCO0FBQ3pCeEIsTUFBQUEsT0FBTyxDQUFDMEMsSUFBRCxDQUFQLEdBQWdCRCxLQUFLLENBQUNwQyxHQUFOLEVBQWhCO0FBQ0g7O0FBRURkLElBQUFBLE1BQU0sQ0FBQ3dDLE9BQVAsQ0FBZSxTQUFmLEVBQTBCQSxPQUExQixDQUFrQy9CLE9BQWxDO0FBQ0gsR0F6QkQsRUF6RVUsQ0FvR1Y7O0FBQ0FmLEVBQUFBLENBQUMsQ0FBQyxlQUFELENBQUQsQ0FBbUJxQyxFQUFuQixDQUFzQixPQUF0QixFQUErQixlQUEvQixFQUFnRCxZQUFZO0FBQ3hELFFBQUltQixLQUFLLEdBQUd4RCxDQUFDLENBQUMsSUFBRCxDQUFiO0FBQ0EsUUFBSTRELElBQUksR0FBR0osS0FBSyxDQUFDSSxJQUFOLEVBQVg7QUFDQSxRQUFJZCxPQUFPLEdBQUd4QyxNQUFNLENBQUNzRCxJQUFQLENBQVksU0FBWixDQUFkO0FBQ0EsUUFBSUMsT0FBSjtBQUNBLFFBQUlDLE9BQUo7QUFDQSxRQUFJQyxNQUFKOztBQUVBLFFBQUlQLEtBQUssQ0FBQ0wsSUFBTixDQUFXLFVBQVgsS0FBMEJLLEtBQUssQ0FBQ1EsUUFBTixDQUFlLFVBQWYsQ0FBOUIsRUFBMEQ7QUFDdEQ7QUFDSDs7QUFFRCxRQUFJbEIsT0FBTyxJQUFJYyxJQUFJLENBQUNLLE1BQXBCLEVBQTRCO0FBQ3hCTCxNQUFBQSxJQUFJLEdBQUc1RCxDQUFDLENBQUNrRSxNQUFGLENBQVMsRUFBVCxFQUFhTixJQUFiLENBQVAsQ0FEd0IsQ0FDRzs7QUFFM0IsVUFBSSxPQUFPQSxJQUFJLENBQUNPLE1BQVosS0FBdUIsV0FBM0IsRUFBd0M7QUFDcENMLFFBQUFBLE9BQU8sR0FBRzlELENBQUMsQ0FBQzRELElBQUksQ0FBQ08sTUFBTixDQUFYOztBQUVBLFlBQUksT0FBT1AsSUFBSSxDQUFDUSxNQUFaLEtBQXVCLFdBQTNCLEVBQXdDO0FBQ3BDLGNBQUk7QUFDQVIsWUFBQUEsSUFBSSxDQUFDUSxNQUFMLEdBQWNDLElBQUksQ0FBQ0MsS0FBTCxDQUFXUixPQUFPLENBQUMxQyxHQUFSLEVBQVgsQ0FBZDtBQUNILFdBRkQsQ0FFRSxPQUFPRCxDQUFQLEVBQVU7QUFDUmxCLFlBQUFBLE9BQU8sQ0FBQ0UsR0FBUixDQUFZZ0IsQ0FBQyxDQUFDb0QsT0FBZDtBQUNIO0FBQ0o7QUFDSjs7QUFFRFYsTUFBQUEsT0FBTyxHQUFHZixPQUFPLENBQUNlLE9BQWxCOztBQUVBLGNBQVFELElBQUksQ0FBQ0ssTUFBYjtBQUNJLGFBQUssUUFBTDtBQUNJLGNBQUlKLE9BQU8sSUFBSTlDLE9BQU8sQ0FBQ3lELFFBQVIsR0FBbUIsQ0FBbEMsRUFBcUM7QUFDakNsRSxZQUFBQSxNQUFNLENBQUN3QyxPQUFQLENBQWUsT0FBZjtBQUNIOztBQUVEOztBQUVKLGFBQUssa0JBQUw7QUFDSSxjQUFJWixpQkFBaUIsS0FBSyxZQUExQixFQUF3QztBQUNwQyxnQkFBSSxDQUFDMEIsSUFBSSxDQUFDUSxNQUFWLEVBQWtCO0FBQ2RSLGNBQUFBLElBQUksQ0FBQ1EsTUFBTCxHQUFjLEVBQWQ7QUFDSDs7QUFFRFIsWUFBQUEsSUFBSSxDQUFDUSxNQUFMLENBQVlLLFNBQVosR0FBd0IsTUFBeEI7QUFDSDs7QUFFRDtBQWpCUjs7QUFvQkFWLE1BQUFBLE1BQU0sR0FBR3pELE1BQU0sQ0FBQ3dDLE9BQVAsQ0FBZWMsSUFBSSxDQUFDSyxNQUFwQixFQUE0QkwsSUFBSSxDQUFDUSxNQUFqQyxFQUF5Q1IsSUFBSSxDQUFDYyxZQUE5QyxDQUFUOztBQUVBLGNBQVFkLElBQUksQ0FBQ0ssTUFBYjtBQUNJLGFBQUssUUFBTDtBQUNJLGNBQUlKLE9BQU8sSUFBSTlDLE9BQU8sQ0FBQ3lELFFBQVIsR0FBbUIsQ0FBbEMsRUFBcUM7QUFDakNsRSxZQUFBQSxNQUFNLENBQUN3QyxPQUFQLENBQWUsTUFBZjtBQUNIOztBQUVEOztBQUVKLGFBQUssUUFBTDtBQUNBLGFBQUssUUFBTDtBQUNJOUMsVUFBQUEsQ0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRNEQsSUFBUixDQUFhLFFBQWIsRUFBdUIsQ0FBQ0EsSUFBSSxDQUFDUSxNQUE3QjtBQUNBOztBQUVKLGFBQUssa0JBQUw7QUFDSSxjQUFJTCxNQUFKLEVBQVk7QUFDUjtBQUNBL0QsWUFBQUEsQ0FBQyxDQUFDLHdCQUFELENBQUQsQ0FBNEIyRSxLQUE1QixHQUFvQ0MsSUFBcEMsQ0FBeUMsYUFBekMsRUFBd0RDLElBQXhELENBQTZEZCxNQUE3RDs7QUFFQSxnQkFBSSxDQUFDeEQsU0FBUyxDQUFDeUQsUUFBVixDQUFtQixVQUFuQixDQUFMLEVBQXFDO0FBQ2pDVixjQUFBQSxRQUFRLENBQUNBLFFBQVQsR0FBb0JyQixpQkFBcEI7QUFDQTFCLGNBQUFBLFNBQVMsQ0FBQ3lCLElBQVYsQ0FBZSxNQUFmLEVBQXVCK0IsTUFBTSxDQUFDZSxTQUFQLENBQWlCNUMsaUJBQWpCLENBQXZCO0FBQ0g7QUFDSjs7QUFFRDs7QUFFSixhQUFLLFNBQUw7QUFDSSxjQUFJQyxnQkFBSixFQUFzQjtBQUNsQi9CLFlBQUFBLEdBQUcsQ0FBQzJFLGVBQUosQ0FBb0I1QyxnQkFBcEI7QUFDQUEsWUFBQUEsZ0JBQWdCLEdBQUcsRUFBbkI7QUFDQTdCLFlBQUFBLE1BQU0sQ0FBQzBCLElBQVAsQ0FBWSxLQUFaLEVBQW1CRCxnQkFBbkI7QUFDSDs7QUFFRDtBQWpDUjs7QUFvQ0EsVUFBSS9CLENBQUMsQ0FBQ2dGLGFBQUYsQ0FBZ0JqQixNQUFoQixLQUEyQkQsT0FBL0IsRUFBd0M7QUFDcEMsWUFBSTtBQUNBQSxVQUFBQSxPQUFPLENBQUMxQyxHQUFSLENBQVlpRCxJQUFJLENBQUNZLFNBQUwsQ0FBZWxCLE1BQWYsQ0FBWjtBQUNILFNBRkQsQ0FFRSxPQUFPNUMsQ0FBUCxFQUFVO0FBQ1JsQixVQUFBQSxPQUFPLENBQUNFLEdBQVIsQ0FBWWdCLENBQUMsQ0FBQ29ELE9BQWQ7QUFDSDtBQUNKO0FBQ0o7QUFDSixHQS9GRCxFQXJHVSxDQXNNVjs7QUFDQXZFLEVBQUFBLENBQUMsQ0FBQ2dELFFBQVEsQ0FBQ2tDLElBQVYsQ0FBRCxDQUFpQjdDLEVBQWpCLENBQW9CLFNBQXBCLEVBQStCLFVBQVVsQixDQUFWLEVBQWE7QUFDeEMsUUFBSUEsQ0FBQyxDQUFDZ0QsTUFBRixLQUFhLElBQWIsSUFBcUIsQ0FBQzdELE1BQU0sQ0FBQ3NELElBQVAsQ0FBWSxTQUFaLENBQXRCLElBQWdELEtBQUt1QixTQUFMLEdBQWlCLEdBQXJFLEVBQTBFO0FBQ3RFO0FBQ0g7O0FBRUQsWUFBUWhFLENBQUMsQ0FBQ2lFLEtBQVY7QUFDSSxXQUFLLEVBQUw7QUFDSWpFLFFBQUFBLENBQUMsQ0FBQ2tFLGNBQUY7QUFDQS9FLFFBQUFBLE1BQU0sQ0FBQ3dDLE9BQVAsQ0FBZSxNQUFmLEVBQXVCLENBQUMsQ0FBeEIsRUFBMkIsQ0FBM0I7QUFDQTs7QUFFSixXQUFLLEVBQUw7QUFDSTNCLFFBQUFBLENBQUMsQ0FBQ2tFLGNBQUY7QUFDQS9FLFFBQUFBLE1BQU0sQ0FBQ3dDLE9BQVAsQ0FBZSxNQUFmLEVBQXVCLENBQXZCLEVBQTBCLENBQUMsQ0FBM0I7QUFDQTs7QUFFSixXQUFLLEVBQUw7QUFDSTNCLFFBQUFBLENBQUMsQ0FBQ2tFLGNBQUY7QUFDQS9FLFFBQUFBLE1BQU0sQ0FBQ3dDLE9BQVAsQ0FBZSxNQUFmLEVBQXVCLENBQXZCLEVBQTBCLENBQTFCO0FBQ0E7O0FBRUosV0FBSyxFQUFMO0FBQ0kzQixRQUFBQSxDQUFDLENBQUNrRSxjQUFGO0FBQ0EvRSxRQUFBQSxNQUFNLENBQUN3QyxPQUFQLENBQWUsTUFBZixFQUF1QixDQUF2QixFQUEwQixDQUExQjtBQUNBO0FBbkJSO0FBcUJILEdBMUJELEVBdk1VLENBbU9WOztBQUNBLE1BQUl3QyxXQUFXLEdBQUd0RixDQUFDLENBQUMsYUFBRCxDQUFuQjs7QUFFQSxNQUFJSSxHQUFKLEVBQVM7QUFDTGtGLElBQUFBLFdBQVcsQ0FBQ0MsTUFBWixDQUFtQixZQUFZO0FBQzNCLFVBQUlDLEtBQUssR0FBRyxLQUFLQSxLQUFqQjtBQUNBLFVBQUlDLElBQUo7O0FBRUEsVUFBSSxDQUFDbkYsTUFBTSxDQUFDc0QsSUFBUCxDQUFZLFNBQVosQ0FBTCxFQUE2QjtBQUN6QjtBQUNIOztBQUVELFVBQUk0QixLQUFLLElBQUlBLEtBQUssQ0FBQ0UsTUFBbkIsRUFBMkI7QUFDdkJELFFBQUFBLElBQUksR0FBR0QsS0FBSyxDQUFDLENBQUQsQ0FBWjs7QUFFQSxZQUFJLGVBQWVHLElBQWYsQ0FBb0JGLElBQUksQ0FBQ2xELElBQXpCLENBQUosRUFBb0M7QUFDaENOLFVBQUFBLGlCQUFpQixHQUFHd0QsSUFBSSxDQUFDaEMsSUFBekI7QUFDQXZCLFVBQUFBLGlCQUFpQixHQUFHdUQsSUFBSSxDQUFDbEQsSUFBekI7O0FBRUEsY0FBSUosZ0JBQUosRUFBc0I7QUFDbEIvQixZQUFBQSxHQUFHLENBQUMyRSxlQUFKLENBQW9CNUMsZ0JBQXBCO0FBQ0g7O0FBRURBLFVBQUFBLGdCQUFnQixHQUFHL0IsR0FBRyxDQUFDd0YsZUFBSixDQUFvQkgsSUFBcEIsQ0FBbkI7QUFDQW5GLFVBQUFBLE1BQU0sQ0FBQ3dDLE9BQVAsQ0FBZSxTQUFmLEVBQTBCZCxJQUExQixDQUErQixLQUEvQixFQUFzQ0csZ0JBQXRDLEVBQXdEVyxPQUF4RCxDQUFnRS9CLE9BQWhFO0FBQ0F1RSxVQUFBQSxXQUFXLENBQUNsRSxHQUFaLENBQWdCLEVBQWhCO0FBQ0gsU0FYRCxNQVdPO0FBQ0hsQixVQUFBQSxNQUFNLENBQUMyRixLQUFQLENBQWEsOEJBQWI7QUFDSDtBQUNKO0FBQ0osS0ExQkQ7QUEyQkgsR0E1QkQsTUE0Qk87QUFDSFAsSUFBQUEsV0FBVyxDQUFDbkMsSUFBWixDQUFpQixVQUFqQixFQUE2QixJQUE3QixFQUFtQzJDLE1BQW5DLEdBQTRDdkMsUUFBNUMsQ0FBcUQsVUFBckQ7QUFDSDtBQUNKLENBclFBLENBQUQiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG5UZW1wbGF0ZSBOYW1lOiBVYm9sZCAtIFJlc3BvbnNpdmUgQm9vdHN0cmFwIDQgQWRtaW4gRGFzaGJvYXJkXHJcbkF1dGhvcjogQ29kZXJUaGVtZXNcclxuV2Vic2l0ZTogaHR0cHM6Ly9jb2RlcnRoZW1lcy5jb20vXHJcbkNvbnRhY3Q6IHN1cHBvcnRAY29kZXJ0aGVtZXMuY29tXHJcbkZpbGU6IEltYWdlIGNyb3AgaW5pdCBqc1xyXG4qL1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZSB8fCB7IGxvZzogZnVuY3Rpb24gKCkgeyB9IH07XHJcbiAgICB2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xyXG4gICAgdmFyICRpbWFnZSA9ICQoJyNpbWFnZScpO1xyXG4gICAgdmFyICRkb3dubG9hZCA9ICQoJyNkb3dubG9hZCcpO1xyXG4gICAgdmFyICRkYXRhWCA9ICQoJyNkYXRhWCcpO1xyXG4gICAgdmFyICRkYXRhWSA9ICQoJyNkYXRhWScpO1xyXG4gICAgdmFyICRkYXRhSGVpZ2h0ID0gJCgnI2RhdGFIZWlnaHQnKTtcclxuICAgIHZhciAkZGF0YVdpZHRoID0gJCgnI2RhdGFXaWR0aCcpO1xyXG4gICAgdmFyICRkYXRhUm90YXRlID0gJCgnI2RhdGFSb3RhdGUnKTtcclxuICAgIHZhciAkZGF0YVNjYWxlWCA9ICQoJyNkYXRhU2NhbGVYJyk7XHJcbiAgICB2YXIgJGRhdGFTY2FsZVkgPSAkKCcjZGF0YVNjYWxlWScpO1xyXG4gICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgYXNwZWN0UmF0aW86IDE2IC8gOSxcclxuICAgICAgICBwcmV2aWV3OiAnLmltZy1wcmV2aWV3JyxcclxuICAgICAgICBjcm9wOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAkZGF0YVgudmFsKE1hdGgucm91bmQoZS5kZXRhaWwueCkpO1xyXG4gICAgICAgICAgICAkZGF0YVkudmFsKE1hdGgucm91bmQoZS5kZXRhaWwueSkpO1xyXG4gICAgICAgICAgICAkZGF0YUhlaWdodC52YWwoTWF0aC5yb3VuZChlLmRldGFpbC5oZWlnaHQpKTtcclxuICAgICAgICAgICAgJGRhdGFXaWR0aC52YWwoTWF0aC5yb3VuZChlLmRldGFpbC53aWR0aCkpO1xyXG4gICAgICAgICAgICAkZGF0YVJvdGF0ZS52YWwoZS5kZXRhaWwucm90YXRlKTtcclxuICAgICAgICAgICAgJGRhdGFTY2FsZVgudmFsKGUuZGV0YWlsLnNjYWxlWCk7XHJcbiAgICAgICAgICAgICRkYXRhU2NhbGVZLnZhbChlLmRldGFpbC5zY2FsZVkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgb3JpZ2luYWxJbWFnZVVSTCA9ICRpbWFnZS5hdHRyKCdzcmMnKTtcclxuICAgIHZhciB1cGxvYWRlZEltYWdlTmFtZSA9ICdjcm9wcGVkLmpwZyc7XHJcbiAgICB2YXIgdXBsb2FkZWRJbWFnZVR5cGUgPSAnaW1hZ2UvanBlZyc7XHJcbiAgICB2YXIgdXBsb2FkZWRJbWFnZVVSTDtcclxuXHJcbiAgICAvLyBUb29sdGlwXHJcbiAgICAkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpO1xyXG5cclxuICAgIC8vIENyb3BwZXJcclxuICAgICRpbWFnZS5vbih7XHJcbiAgICAgICAgcmVhZHk6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUudHlwZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcm9wc3RhcnQ6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUudHlwZSwgZS5kZXRhaWwuYWN0aW9uKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyb3Btb3ZlOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnR5cGUsIGUuZGV0YWlsLmFjdGlvbik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcm9wZW5kOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnR5cGUsIGUuZGV0YWlsLmFjdGlvbik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcm9wOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnR5cGUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgem9vbTogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZS50eXBlLCBlLmRldGFpbC5yYXRpbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkuY3JvcHBlcihvcHRpb25zKTtcclxuXHJcbiAgICAvLyBCdXR0b25zXHJcbiAgICBpZiAoISQuaXNGdW5jdGlvbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KSkge1xyXG4gICAgICAgICQoJ2J1dHRvbltkYXRhLW1ldGhvZD1cImdldENyb3BwZWRDYW52YXNcIl0nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY3JvcHBlcicpLnN0eWxlLnRyYW5zaXRpb24gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgJCgnYnV0dG9uW2RhdGEtbWV0aG9kPVwicm90YXRlXCJdJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICAkKCdidXR0b25bZGF0YS1tZXRob2Q9XCJzY2FsZVwiXScpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRG93bmxvYWRcclxuICAgIGlmICh0eXBlb2YgJGRvd25sb2FkWzBdLmRvd25sb2FkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICRkb3dubG9hZC5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPcHRpb25zXHJcbiAgICAkKCcuZG9jcy10b2dnbGVzJykub24oJ2NoYW5nZScsICdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBuYW1lID0gJHRoaXMuYXR0cignbmFtZScpO1xyXG4gICAgICAgIHZhciB0eXBlID0gJHRoaXMucHJvcCgndHlwZScpO1xyXG4gICAgICAgIHZhciBjcm9wQm94RGF0YTtcclxuICAgICAgICB2YXIgY2FudmFzRGF0YTtcclxuXHJcbiAgICAgICAgaWYgKCEkaW1hZ2UuZGF0YSgnY3JvcHBlcicpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSAnY2hlY2tib3gnKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnNbbmFtZV0gPSAkdGhpcy5wcm9wKCdjaGVja2VkJyk7XHJcbiAgICAgICAgICAgIGNyb3BCb3hEYXRhID0gJGltYWdlLmNyb3BwZXIoJ2dldENyb3BCb3hEYXRhJyk7XHJcbiAgICAgICAgICAgIGNhbnZhc0RhdGEgPSAkaW1hZ2UuY3JvcHBlcignZ2V0Q2FudmFzRGF0YScpO1xyXG5cclxuICAgICAgICAgICAgb3B0aW9ucy5yZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRpbWFnZS5jcm9wcGVyKCdzZXRDcm9wQm94RGF0YScsIGNyb3BCb3hEYXRhKTtcclxuICAgICAgICAgICAgICAgICRpbWFnZS5jcm9wcGVyKCdzZXRDYW52YXNEYXRhJywgY2FudmFzRGF0YSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncmFkaW8nKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnNbbmFtZV0gPSAkdGhpcy52YWwoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRpbWFnZS5jcm9wcGVyKCdkZXN0cm95JykuY3JvcHBlcihvcHRpb25zKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE1ldGhvZHNcclxuICAgICQoJy5kb2NzLWJ1dHRvbnMnKS5vbignY2xpY2snLCAnW2RhdGEtbWV0aG9kXScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBkYXRhID0gJHRoaXMuZGF0YSgpO1xyXG4gICAgICAgIHZhciBjcm9wcGVyID0gJGltYWdlLmRhdGEoJ2Nyb3BwZXInKTtcclxuICAgICAgICB2YXIgY3JvcHBlZDtcclxuICAgICAgICB2YXIgJHRhcmdldDtcclxuICAgICAgICB2YXIgcmVzdWx0O1xyXG5cclxuICAgICAgICBpZiAoJHRoaXMucHJvcCgnZGlzYWJsZWQnKSB8fCAkdGhpcy5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY3JvcHBlciAmJiBkYXRhLm1ldGhvZCkge1xyXG4gICAgICAgICAgICBkYXRhID0gJC5leHRlbmQoe30sIGRhdGEpOyAvLyBDbG9uZSBhIG5ldyBvbmVcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS50YXJnZXQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAkdGFyZ2V0ID0gJChkYXRhLnRhcmdldCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLm9wdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm9wdGlvbiA9IEpTT04ucGFyc2UoJHRhcmdldC52YWwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3JvcHBlZCA9IGNyb3BwZXIuY3JvcHBlZDtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAoZGF0YS5tZXRob2QpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JvdGF0ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyb3BwZWQgJiYgb3B0aW9ucy52aWV3TW9kZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGltYWdlLmNyb3BwZXIoJ2NsZWFyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdnZXRDcm9wcGVkQ2FudmFzJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXBsb2FkZWRJbWFnZVR5cGUgPT09ICdpbWFnZS9qcGVnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEub3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm9wdGlvbiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm9wdGlvbi5maWxsQ29sb3IgPSAnI2ZmZic7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmVzdWx0ID0gJGltYWdlLmNyb3BwZXIoZGF0YS5tZXRob2QsIGRhdGEub3B0aW9uLCBkYXRhLnNlY29uZE9wdGlvbik7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGEubWV0aG9kKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyb3RhdGUnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcm9wcGVkICYmIG9wdGlvbnMudmlld01vZGUgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbWFnZS5jcm9wcGVyKCdjcm9wJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdzY2FsZVgnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2NhbGVZJzpcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoJ29wdGlvbicsIC1kYXRhLm9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ2V0Q3JvcHBlZENhbnZhcyc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCb290c3RyYXAncyBNb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjZ2V0Q3JvcHBlZENhbnZhc01vZGFsJykubW9kYWwoKS5maW5kKCcubW9kYWwtYm9keScpLmh0bWwocmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJGRvd25sb2FkLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZC5kb3dubG9hZCA9IHVwbG9hZGVkSW1hZ2VOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvd25sb2FkLmF0dHIoJ2hyZWYnLCByZXN1bHQudG9EYXRhVVJMKHVwbG9hZGVkSW1hZ2VUeXBlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Rlc3Ryb3knOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGxvYWRlZEltYWdlVVJMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkZWRJbWFnZVVSTCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkSW1hZ2VVUkwgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGltYWdlLmF0dHIoJ3NyYycsIG9yaWdpbmFsSW1hZ2VVUkwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICgkLmlzUGxhaW5PYmplY3QocmVzdWx0KSAmJiAkdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0YXJnZXQudmFsKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBLZXlib2FyZFxyXG4gICAgJChkb2N1bWVudC5ib2R5KS5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzIHx8ICEkaW1hZ2UuZGF0YSgnY3JvcHBlcicpIHx8IHRoaXMuc2Nyb2xsVG9wID4gMzAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZS53aGljaCkge1xyXG4gICAgICAgICAgICBjYXNlIDM3OlxyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGltYWdlLmNyb3BwZXIoJ21vdmUnLCAtMSwgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgMzg6XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkaW1hZ2UuY3JvcHBlcignbW92ZScsIDAsIC0xKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAzOTpcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRpbWFnZS5jcm9wcGVyKCdtb3ZlJywgMSwgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgNDA6XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkaW1hZ2UuY3JvcHBlcignbW92ZScsIDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSW1wb3J0IGltYWdlXHJcbiAgICB2YXIgJGlucHV0SW1hZ2UgPSAkKCcjaW5wdXRJbWFnZScpO1xyXG5cclxuICAgIGlmIChVUkwpIHtcclxuICAgICAgICAkaW5wdXRJbWFnZS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsZXMgPSB0aGlzLmZpbGVzO1xyXG4gICAgICAgICAgICB2YXIgZmlsZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghJGltYWdlLmRhdGEoJ2Nyb3BwZXInKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBmaWxlID0gZmlsZXNbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKC9eaW1hZ2VcXC9cXHcrJC8udGVzdChmaWxlLnR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWRJbWFnZU5hbWUgPSBmaWxlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWRJbWFnZVR5cGUgPSBmaWxlLnR5cGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGxvYWRlZEltYWdlVVJMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkZWRJbWFnZVVSTCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZEltYWdlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAkaW1hZ2UuY3JvcHBlcignZGVzdHJveScpLmF0dHIoJ3NyYycsIHVwbG9hZGVkSW1hZ2VVUkwpLmNyb3BwZXIob3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0SW1hZ2UudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KCdQbGVhc2UgY2hvb3NlIGFuIGltYWdlIGZpbGUuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJGlucHV0SW1hZ2UucHJvcCgnZGlzYWJsZWQnLCB0cnVlKS5wYXJlbnQoKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgIH1cclxufSk7Il0sImZpbGUiOiIuL3Jlc291cmNlcy9qcy9wYWdlcy9mb3JtLWltYWdlY3JvcC5pbml0LmpzLmpzIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/js/pages/form-imagecrop.init.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./resources/js/pages/form-imagecrop.init.js"]();
/******/ 	
/******/ })()
;